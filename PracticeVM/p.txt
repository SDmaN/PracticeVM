load 10 ; Адрес загрузки и запуска программы

f 0 1 ; sum

f 2 0 ; x
u 4 0 ; n

c 24 1 2 2 1 ; Вводим x
c 22 0 2 4 3 ; Вводим n

c 33 0 1 0 50 ; Переходим к подпрограмме по адресу 50. Адрес возврата в регистре uw 0
c 25 1 2 0 1  ; Выводим сумму на экран
end ; Завершение работы

sp 50 ; Подпрограмма вычисления exp(x)

u 40 1 ; Счетчик цикла (while ... <= n)
f  41 0 ; Степень, деленная на факториал. Эта величина будет прибавляться к сумме
u 43 1 ; Константная единица для увеличения счетчика цикла
f  44 1 ; Константная единица для инициализации регистров

; Регистр f 1  - накопление степени
; Регистр f 2  - накопление факториала
; Регистр f 3  - для перевода счетчика из целого в дробное и дальнейшего домножения к факториалу

; Изначально накопления равны единицы
c 14 1 1 1 44 ;  | 50 | Двигаем единицу
c 14 1 1 2 44 ;  | 52 | Двигаем единицу

c 20 0 3 40 4 ;  | 54 | Сравниваем счетчик с n
c 32 0 1 76   ;  | 57 | Если больше или равен, переходим к выходу из подпрограммы

c 12 1 1 1 2  ;  | 59 | Умножаем накопление степени на x

c 16 0 1 3 40 ;  | 61 | Приводим счетчик к дробному
c 12 1 0 2 3  ;  | 63 | Умножаем приведенный счетчик на накопление факториала

c 14 1 2 41 1 ;  | 64 | Переносим накопление степени для дальнейшей возможности деления
c 13 1 2 41 2 ;  | 66 | Делим накопление степени на накопление факториала

c 10 1 3 0 41 ;  | 68 | Прибавляем деленое к сумме

c 2 0 3 40 43 ;  | 71 | Увеличиваем счетчик цикла на 1
c 26 0 1 54   ;  | 74 | Возвращаемся к началу цикла

ret           ;  | 76 | Возврат из подпрограммы